<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>无标题文档</title>
<link rel="stylesheet" type="text/css" href="css/hdw.css"/>
<script type="text/javascript" src="js/jquery-1.6.4.min.js"></script>
<script>
    $(document).ready(function () {
        // 创建并添加*到文档中
        var strongTag = $('<strong>*</strong>')
        strongTag.addClass('reda')
        $('.one').append(strongTag)

        // 用户名输入框
        $('#username').blur(function () {
            $(this).parent().find('em').remove()
            var valueLength = $(this).val().length
            if (valueLength < 6) {
                $(this).parent().append($('<em class="a2 error">不得少于6位</em>'))
            } else {
                $(this).parent().append($('<em class="a2 righta">正确</em>'))
            }
        })

        // 密码框
        $('#password').blur(function () {
            $(this).parent().find('em').remove()
            var valueLength = $(this).val().length
            if (valueLength < 6) {
                $(this).parent().append($('<em class="a2 error">不得少于6位</em>'))
            } else {
                $(this).parent().append($('<em class="a2 righta">正确</em>'))
            }
        })

        // 密码确认框
        $('#passwords').blur(function () {
            $(this).parent().find('em').remove()
            var value = $(this).val()
            if (value === $('#password').val() && value !== '') {
                $(this).parent().append($('<em class="a2 righta">正确</em>'))
            } else {
                $(this).parent().append($('<em class="a2 error">两次密码不一致</em>'))
            }
        })

        // 邮件框
        $('#email').blur(function () {
            $(this).parent().find('em').remove()
            var valueLength = $(this).val().length
        var regex = /^([0-9A-Za-z\-_\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)$/g
            if (this.value !== '' && regex.test(this.value)) {
                $(this).parent().append($('<em class="a2 righta">格式正确</em>'))
            } else {
                $(this).parent().append($('<em class="a2 error">邮件格式不正确</em>'))
            }
        })

        // 手机
        $('#tel').blur(function () {
            $(this).parent().find('em').remove()
            var valueLength = $(this).val().length
            var phoneReg = /^1[34578]\d{9}$/
            if (phoneReg.test(this.value)) {
                $(this).parent().append($('<em class="a2 righta">正确</em>'))       
            } else {
                $(this).parent().append($('<em class="a2 error">请输入正确的手机号</em>'))
            }
        })

        // 提交按钮
        $('#send').click(function () {
            $('.a1').each(function () {
                $(this).trigger('blur')
            })

            if ($('.righta').length === $('.one').length) {
                alert('注册成功')
            }

            return false
        })

        // 重置按钮
        $('#res').click(function () {
            $('.one').find('em').remove()
        })


    })
</script>

</head>

<body>
<form method="post" action="">
<div class="one">
<label for="username">用户名：</label>
<input type="text" id="username" class="a1" />
</div>
<div class="one">
<label for="passwowd">密码：</label>
<input type="password" id="password" class="a1" />
</div>
<div class="one">
<label for="passwords">确认密码：</label>
<input type="password" id="passwords" class="a1" />
</div>
<div class="one">
<label for="email">邮件：</label>
<input type="text" id="email" class="a1" />
</div>
<div class="one">
<label for="tel">手机：</label>
<input type="text" id="tel" class="a1" />
</div>
<div class="two">
<input type="submit" id="send" value="提交" />
<input type="reset" id="res" value="重置" />

</div>



</form>
</body>
</html>
